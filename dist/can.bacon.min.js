!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Bacon"),require("can")):"function"==typeof define&&define.amd?define(["Bacon","can"],t):"object"==typeof exports?exports["can.bacon"]=t(require("Bacon"),require("can")):e["can.bacon"]=t(e.Bacon,e.can)}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1),n(2)},function(e,t,n){"use strict";function r(e){this.event=e[0],this.which=e[1],this.how=e[2],this.value=e[3],this.oldValue=e[4]}function a(e){switch(this.event=e[0],this.event.type){case"change":this.index=isNaN(e[1])?e[1]:+e[1],this.how=e[2],this.value="remove"===this.how?e[4]:e[3],this.oldValue=e[4];break;case"set":case"add":case"remove":this.index=e[2],this.how=this.event.type,this.value=e[1],this.oldValue=null;break;default:throw new Error("Unexpected can.List event: "+this.event.type)}}function o(e,t){t=null==t?"change":t;var n=c.fromBinder(function(n){function r(){n(new c.Next(i(e,arguments)))}return e.bind(t,r),function(){return e.unbind(t,r)}});return e.isComputed?n.toProperty(e()):n}function i(e,t,n){return e.isComputed?t[1]:e.getEventValueForBacon?e.getEventValueForBacon(t,n):[].slice.call(t)}var c=n(3),s=n(4),u=s.bind;s.bind=function(e,t){return t?u.apply(this,arguments):o(this,e)};var p=s.bindAndSetup;s.bindAndSetup=function(e,t){return t?p.apply(this,arguments):o(this,e)},s.Map.prototype.bind=s.bindAndSetup,s.Map.prototype.getEventValueForBacon=function(e){switch(e[0]&&e[0].type){case"change":return new r(e);default:var t=e[0].target;return t._data&&t._data.hasOwnProperty(e[0].type)?e[1]:e}},s.List.prototype.getEventValueForBacon=function(e){switch(e[0]&&e[0].type){case"change":case"set":case"add":case"remove":return new a(e);case"length":return e[1];default:var t=e[0].target,n=e[0].type;return t.hasOwnProperty(e[0].type)?isNaN(n)?e[1]:e[1][0]:e}}},function(e,t,n){"use strict";function r(e,t){var n=t.hasOwnProperty("which")?t.which:t.index;switch(t.how){case"set":e.attr(n,t.value);break;case"add":e.attr(n,t.value);break;case"remove":e.removeAttr(n);break;case"replace":e.attr(t.value,t.removeOthers);default:console.warn("Unexpected event type: ",t.how),e.attr(t)}}function a(e,t){var n=t.hasOwnProperty("which")||isNaN(t.index);if(n&&"replace"!==t.how)r(e,t);else switch(t.how){case"set":e.attr(t.index,t.value);break;case"add":e.splice.apply(e,[t.index,0].concat(t.value));break;case"remove":e.splice(Math.min(t.index,e.length?e.length-1:0),t.value?t.value.length:1);break;case"replace":t.hasOwnProperty("removeOthers")?e.attr(t.value,t.removeOthers):e.replace(t.value);default:console.warn("Unexpected event type: ",t.how),e.replace(t.value)}}var o=n(3),i=n(4);o.Observable.prototype.toCanCompute=function(e){return e=e||i.compute(),this.onValue(e),e},o.Observable.prototype.toCanMap=function(e){return e=e||new i.Map,this.onValue(function(t){return r(e,t)}),e},o.Observable.prototype.toCanList=function(e){return e=e||new i.List,this.onValue(function(t){return a(e,t)}),e}},function(e){e.exports=Bacon},function(e){e.exports=can}])});
//# sourceMappingURL=can.bacon.min.js.map