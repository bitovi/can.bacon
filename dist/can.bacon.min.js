!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Bacon"),require("can")):"function"==typeof define&&define.amd?define(["Bacon","can"],t):"object"==typeof exports?exports["can.bacon"]=t(require("Bacon"),require("can")):e["can.bacon"]=t(e.Bacon,e.can)}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1),n(2)},function(e,t,n){"use strict";function a(e){this.event=e[0],this.which=e[1],this.how=e[2],this.value=e[3],this.oldValue=e[4]}function r(e){switch(this.event=e[0],this.event.type){case"change":this.index=isNaN(e[1])?e[1]:+e[1],this.how=e[2],this.value="remove"===this.how?e[4]:e[3],this.oldValue=e[4];break;case"set":case"add":case"remove":this.index=e[2],this.how=this.event.type,this.value=e[1],this.oldValue=null;break;default:throw new Error("Unexpected can.List event: "+this.event.type)}}function o(e,t,n){t=null==t?"change":t;var a=i.fromBinder(function(a){function r(){a(new i.Next(s(e,arguments)))}return n?c.delegate.call(e,n,t,r):c.bind.call(e,t,r),function(){return n?c.undelegate.call(e,n,t,r):c.unbind.call(e,t,r)}});return e.isComputed?a.toProperty(e()):a}function s(e,t,n){return e.isComputed?t[1]:e.getEventValueForBacon?e.getEventValueForBacon(t,n):t[0]}var i=n(3),c=n(4),u=c.bind;c.bind=function(e,t){return this instanceof i.Observable?this:t?u.apply(this,arguments):o(this,e)};var l=c.delegate;c.delegate=function(e,t,n){return this instanceof i.Observable?this:n?l.apply(this,arguments):o(this,t,e)};var p=c.bindAndSetup;c.bindAndSetup=function(e,t){return t?p.apply(this,arguments):o(this,e)};var h=c.Control.prototype.on;c.Control.prototype.on=function(e,t,n,a){return e?e instanceof i.Observable?e.takeUntil(c.bind.call(this,"destroyed")):("string"==typeof e&&(a=n,n=t,t=e,e=this.element),null==a&&(a=n,n=t,t=null),null==a?o(e,n,t).takeUntil(c.bind.call(this,"destroyed")):h.apply(this,arguments)):h.apply(this,arguments)},c.Map.prototype.bind=c.bindAndSetup,c.Map.prototype.getEventValueForBacon=function(e){switch(e[0]&&e[0].type){case"change":return new a(e);default:var t=e[0].target;return t._data&&t._data.hasOwnProperty(e[0].type)?e[1]:e}},c.List.prototype.getEventValueForBacon=function(e){switch(e[0]&&e[0].type){case"change":case"set":case"add":case"remove":return new r(e);case"length":return e[1];default:var t=e[0].target,n=e[0].type;return t.hasOwnProperty(e[0].type)?isNaN(n)?e[1]:e[1][0]:e}}},function(e,t,n){"use strict";function a(e,t){var n=t.hasOwnProperty("which")?t.which:t.index;switch(t.how){case"set":e.attr(n,t.value);break;case"add":e.attr(n,t.value);break;case"remove":e.removeAttr(n);break;case"replace":e.attr(t.value,t.removeOthers);break;case void 0:console.warn("Missing event type on change event: ",t),e.attr(t);break;default:console.warn("Unexpected event type: ",t.how),e.attr(t)}}function r(e,t){var n=t.hasOwnProperty("which")||isNaN(t.index);if(n&&"replace"!==t.how)a(e,t);else switch(t.how){case"set":e.attr(t.index,t.value);break;case"add":e.splice.apply(e,[t.index,0].concat(t.value));break;case"remove":e.splice(Math.min(t.index,e.length?e.length-1:0),t.value?t.value.length:1);break;case"replace":t.hasOwnProperty("removeOthers")?e.attr(t.value,t.removeOthers):e.replace(t.value);break;case void 0:console.warn("Missing event type on change event: ",t),e.replace(t.value);break;default:console.warn("Unexpected event type: ",t.how),e.replace(t.value)}}var o=n(3),s=n(4);o.Observable.prototype.toCanCompute=function(){var e=void 0!==arguments[0]?arguments[0]:s.compute();return this.onValue(e),e},o.Observable.prototype.toCanMap=function(){var e=void 0!==arguments[0]?arguments[0]:new s.Map;return this.onValue(function(t){return a(e,t)}),e},o.Observable.prototype.toCanList=function(){var e=void 0!==arguments[0]?arguments[0]:new s.List;return this.onValue(function(t){return r(e,t)}),e}},function(e){e.exports=Bacon},function(e){e.exports=can}])});
//# sourceMappingURL=can.bacon.min.js.map